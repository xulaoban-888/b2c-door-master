<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=9; IE=8; IE=7; IE=EDGE">
    <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />
    <title>设置-个人信息</title>
    <link rel="icon" href="/assets/img/favicon.ico">

    <link rel="stylesheet" type="text/css" href="css/webbase.css" />
    <link rel="stylesheet" type="text/css" href="css/pages-seckillOrder.css" />
</head>

<body>
<!--页面顶部白条条，由js动态加载-->
<script type="text/javascript" src="plugins/jquery/jquery.min.js"></script>
<div class="nav-bottom"></div>
<script type="text/javascript">$(".nav-bottom").load("top.html");</script>

<script type="text/javascript" src="js/plugins/jquery/jquery.min.js"></script>
<script type="text/javascript">
    $(function(){
        $("#service").hover(function(){
            $(".service").show();
        },function(){
            $(".service").hide();
        });
        $("#shopcar").hover(function(){
            $("#shopcarlist").show();
        },function(){
            $("#shopcarlist").hide();
        });

    })
</script>
<script type="text/javascript" src="js/plugins/jquery.easing/jquery.easing.min.js"></script>
<script type="text/javascript" src="js/plugins/sui/sui.min.js"></script>
<script type="text/javascript" src="js/plugins/jquery-placeholder/jquery.placeholder.min.js"></script>
<script type="text/javascript" src="js/widget/nav.js"></script>
<script type="text/javascript" src="js/plugins/birthday/birthday.js"></script>
<script type="text/javascript" src="js/plugins/citypicker/distpicker.data.js"></script>
<script type="text/javascript" src="js/plugins/citypicker/distpicker.js"></script>
<script type="text/javascript" src="js/plugins/upload/uploadPreview.js"></script>
<script type="text/javascript" src="js/pages/main.js"></script>
<script>
    $(function() {
        $.ms_DatePicker({
            YearSelector: "#select_year2",
            MonthSelector: "#select_month2",
            DaySelector: "#select_day2"
        });
    });
</script>

</body>
<div id="infov">
    <!--header-->
    <div id="account">
        <div class="py-container" >
            <div class="yui3-g home">
                <!--左侧列表-->
                <div class="yui3-u-1-6 list">

                    <div class="person-info">
                        <div class="person-photo"><img src="img/_/photo.png" alt=""></div>
                        <div class="person-account">
                            <span class="name">Michelle</span>
                            <span class="safe">账户安全</span>
                        </div>
                        <div class="clearfix"></div>
                    </div>
                    <div class="list-items">
                        <dl>
                            <dt><i>·</i> 订单中心</dt>
                            <dd ><a href="home-index.html"   >我的订单</a></dd>
                            <dd><a href="home-order-pay.html" >待付款</a></dd>
                            <dd><a href="home-order-send.html"  >待发货</a></dd>
                            <dd><a href="home-order-receive.html" >待收货</a></dd>
                            <dd><a href="home-order-evaluate.html" >待评价</a></dd>
                        </dl>
                        <dl>
                            <dt><i>·</i> 我的中心</dt>
                            <dd><a href="home-person-collect.html" >我的收藏</a></dd>
                            <dd><a href="home-person-footmark.html" >我的足迹</a></dd>
                        </dl>
                        <dl>
                            <dt><i>·</i> 物流消息</dt>
                        </dl>
                        <dl>
                            <dt><i>·</i> 设置</dt>
                            <dd><a href="home-setting-info.html" class="list-active">个人信息</a></dd>
                            <dd><a href="home-setting-address.html"  >地址管理</a></dd>
                            <dd><a href="home-setting-safe.html" >安全管理</a></dd>
                        </dl>
                    </div>
                </div>
                <!--右侧主内容-->

                <div class="yui3-u-5-6" >
                    <div class="body userInfo" >
                        <ul class="sui-nav nav-tabs nav-large nav-primary ">
                            <li class="active"><a href="#one" data-toggle="tab">基本资料</a></li>
                            <li><a href="#two" data-toggle="tab">头像照片</a></li>
                        </ul>
                        <div class="tab-content " >
                            <div id="one" class="tab-pane active">
                                <form id="form-msg" class="sui-form form-horizontal">
                                    <div class="control-group">
                                        <label for="inputName" class="control-label">昵称：</label>
                                        <div class="controls">
                                            <input type="text" id="inputName" name="name" v-model="user.name"  placeholder="昵称">
                                        </div>
                                    </div>
                                    <div class="control-group">
                                        <label for="inputGender" class="control-label">性别：</label>
                                        <div class="controls">
                                            <label data-toggle="radio" class="radio-pretty inline " >
                                                <input type="radio" name="sex" value="1" v-model="user.sex" /><span>男</span>
                                            </label>
                                            <label data-toggle="radio" class="radio-pretty inline checked">
                                                <input type="radio" name="sex" value="0" v-model="user.sex" /><span>女</span>
                                            </label>
                                        </div>
                                    </div>

                                    <div class="control-group">
                                        <label for="inputPassword" class="control-label" >生日：</label>
                                        <div class="controls">
                                            <select id="select_year2" rel="2002" v-model="year1"></select>年
                                            <select id="select_month2" rel="5" v-model="month"></select>月
                                            <select id="select_day2" rel="15" v-model="day"></select>日
                                        </div>
                                    </div>


                                    <div class="control-group">
                                        <label for="inputPassword" class="control-label">所在地：</label>
                                        <div class="controls">
                                            <div data-toggle="distpicker">
                                                <div class="form-group area">
                                                    <select class="form-control" id="province1" v-model="user.province1"></select>
                                                </div>
                                                <div class="form-group area">
                                                    <select class="form-control" id="city1" v-model="user.city1"></select>
                                                </div>
                                                <div class="form-group area">
                                                    <select class="form-control" id="district1" v-model="user.district1"></select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="control-group" >
                                        <label for="inputJob" class="control-label">职业：</label>
                                        <select  v-model="user.zhiye" name="profession" >
                                            <option value="0" >请选择</option>
                                            <option value="1" selected="selected">程序员</option>
                                            <option value="2">产品经理</option>
                                            <option value="3">UI设计师</option>
                                        </select>
                                    </div>
                                    <div class="control-group">
                                        <label for="sanwei" class="control-label"></label>
                                        <div class="controls">
                                            <button type="submit" class="sui-btn btn-primary" @click="useradd">立即注册</button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <div id="two" class="tab-pane">

                                <div class="new-photo">
                                    <p>当前头像：</p>
                                    <div class="upload">
                                        <img id="imgShow_WU_FILE_0" width="100" height="100" src="img/_/photo_icon.png" alt="">
                                        <input type="file" id="up_img_WU_FILE_0" v-model="user.image"/>
                                    </div>

                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- 底部栏位 -->
<!--页面底部，由js动态加载-->
<div class="clearfix footer"></div>


<script type="text/javascript">$(".footer").load("foot.html");</script>
<!--页面底部END-->

<!--页面顶部，由js动态加载-->
<link href="./css/vuetify.min.css" rel="stylesheet">
<script src="./js/vue/vue.js"></script>
<script src="./js/vue/vuetify.js"></script>
<script src="./js/axios.min.js"></script>
<script src="./js/common.js"></script>
<!--页面底部END-->
<script class="text/javascript">

    var infoVue = new Vue({
        el:"#infov",
        data:{
            b2c,
            year:"",
            month:"",
            day:"",
            year1:"",
            // month1:"",
            day1:"",
            user:{
                name:"",
                sex:"",
                bir: "",
                province1:"",
                city1:"",
                district1:"",
                image:"",
                zhiye:""
            },
            /*            strcookie:"",
                        arrcookie:"",*/
            arr:[],
        },
        created() {
            //页面加载请求数据
            this.usersList();

            /*            this.strcookie = document.cookie;
                        this.arrcookie = this.strcookie.split("; ");
                        for (var i = 0; i < this.arrcookie.length; i++) {
                            this.arr = this.arrcookie[i].split("=");
                            if (this.arr[0] == "b2c") {
                                return this.arr[1];
                            }
                        }
                        console.log(this.arr)*/
        },
        watch:{
            year:{
                // immediate: true,

            }
        },
        methods:{
            useradd(){
                const date = this.year+"-"+this.month+"-"+this.day;
                this.user.bir=b2c.formatDate(date,"yyyy-MM-dd");
                b2c.http.post("/user/addUsers",this.user).then()
            },
            usersList(){
                console.log()
                b2c.verifyUser().then(()=>{
                    b2c.http.get("/user/userId").then(resp=>{
                        this.user = resp.data;

                        this.arr = this.user.bir.split("-");

                        this.year1 =this.arr[0];
                        this.month =this.arr[1];
                        this.day1 =this.arr[2];
                        console.log(this.month)

                        console.log(this.arr)
                    })
                })

            }
        }

    })

</script>
</html>